"use strict";$(function(){$(window).resize(function(){t(),r($(".js__height"))});var i=!1;function e(e){!1===i&&(i=!0,e.fullpage({autoScrolling:!0,sectionSelector:".js__section",slideSelector:".js__slide",anchors:["main","about","portfolio","contacts"],responsiveWidth:!1,menu:".menu__list",controlArrows:!1,normalScrollElements:".normal-scrolling",fitToSection:!1,onLeave:function(e,i){1==i?($(".header").removeClass("active"),$(".js__main-link").addClass("disable")):(2==i&&(i=$(".js__counter"),0==s&&i.each(function(){var e=$(this).text(),i=$(this);s=!0,$({numberValue:1}).animate({numberValue:e},{duration:1e3,easing:"linear",step:function(){i.text(Math.ceil(this.numberValue))}})})),$(".header").addClass("active"),$(".js__main-link").removeClass("disable"))}}))}function t(){767<window.innerWidth?e($(".js__page-scroll")):($.fn.fullpage.destroy("all"),i=!1)}function o(){var e=$(".header").outerHeight(!0);$(".js__background-size").css("background-size","auto calc(100% - "+e+"px)")}e($(".js__page-scroll")),0<$(".js__page-scroll").length&&t(),$(".js__dropdown").on("click",function(){$(this).parent("div").toggleClass("active")}),$(window).on("load",function(){setTimeout(function(){o()},10)}),$(window).resize(o());var s=!1;$(".js__arrow-next").on("click",function(){$.fn.fullpage.moveSlideRight()}),$(".js__arrow-prev").on("click",function(){$.fn.fullpage.moveSlideLeft()});var n,l="",a="";function c(e){l=$(e).find(".swiper-wrapper").children("div").length,a=l/2}function r(e){e.each(function(){var e=$(this).height();$(this).closest(".js__scroll-container").height()<e?$(this).closest(".js__scroll-container").addClass("normal-scrolling"):$(this).closest(".js__scroll-container").removeClass("normal-scrolling")})}function _(){var e=$(".js__icon").closest(".js__section").height(),i=$(document).scrollTop();$("footer").position().top<i+e?$(".js__icon").addClass("hide"):$(".js__icon").removeClass("hide")}function d(){var e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}c(".js__slider"),2<l?new Swiper(".js__slider",{initialSlide:a.toFixed(),pagination:{el:".swiper-pagination",dynamicBullets:!0,clickable:!0}}):new Swiper(".js__slider",{}),c(".js__carousel"),(n=6<l?new Swiper(".js__carousel",{initialSlide:a.toFixed()-1,centeredSlides:!0,roundLengths:!0,slideToClickedSlide:!0,autoplay:{enabled:!0,delay:3e3},breakpoints:{320:{slidesPerView:1},1e3:{slidesPerView:3}},pagination:{el:".swiper-pagination",dynamicBullets:!0,clickable:!0}}):new Swiper(".js__carousel",{slidesPerView:3,centeredSlides:!0,roundLengths:!0,navigation:{nextEl:".js__nav-next",prevEl:".js__nav-prev"},on:{init:function(){console.log("init"),heightForNav()}}})).on("slideChangeTransitionStart",function(){$(".js__carousel").find(".swiper-slide-active").addClass("animate")}),n.on("slideChangeTransitionEnd",function(){$(".js__carousel").find(".swiper-slide-active").removeClass("animate")}),$("[data-fancybox]").fancybox({smallBtn:!1,hideScrollbar:!0,toolbar:!1,animationDuration:300,animationEffect:"slide-in-out"}),$(".js__textarea textarea").each(function(){this.setAttribute("style","height:"+this.scrollHeight+"px;overflow-y:hidden;")}).on("input",function(){this.style.height="auto",this.style.height=this.scrollHeight+"px"}),r($(".js__height")),_(),$(window).scroll(function(){_()}),$(".js__btn-cookies").on("click",function(){localStorage.setItem("accept",!0),$(".js__cookies").addClass("hide")}),"true"!=localStorage.getItem("accept")&&$(".js__cookies").addClass("open"),$(".js__toggle").on("click",function(){$(this).toggleClass("active"),$(".js__toggle-item").toggleClass("open"),$(".js__toggle-close").toggleClass("active")}),$(".js__toggle-close").on("click",function(){$(".js__toggle").removeClass("active"),$(".js__toggle-item").removeClass("open"),$(this).removeClass("active")}),$(".js__anchor").click(function(){var e=$(this).attr("data-href"),e=$('[data-anchor="'+e+'"]').offset().top;return $(".js__toggle").removeClass("active"),$(".js__toggle-item").removeClass("open"),$(".js__toggle-close").removeClass("active"),$("body, html").animate({scrollTop:e-60},1e3),!1}),d(),$(document).scroll(function(){d()})});